import{e as g,au as te,av as oe,s as F,aw as se,r as f,i as e,a9 as $,W as Y,k as m,o as r,w as d,N as b,X as E,a7 as S,l as B,ax as ae,ay as R,az as Z,h as _,M as q,aA as J,aB as ne,R as le,aC as ie,v as re,aD as ue,aE as de,aF as pe,a as z,Y as H,P as O,aG as ce,aH as fe,D as P,t as A,c as k,m as w,E as Q,Z as me,a1 as ve,F as ye,j as ge,H as _e,n as be}from"./C3KKrbky.js";import{u as j,g as Ce,_ as $e,a as he,b as De}from"./CFKgnAO0.js";import{u as Oe}from"./Ds1CFOlR.js";import"./DlAUqK2U.js";const[h,Be]=te("DialogRoot"),we=g({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(p,{emit:u}){const t=p,o=oe(t,"open",u,{defaultValue:t.defaultOpen,passive:t.open===void 0}),v=F(),y=F(),{modal:c}=se(t);return Be({open:o,modal:c,openModal:()=>{o.value=!0},onOpenChange:a=>{o.value=a},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:v,contentElement:y}),(a,l)=>f(a.$slots,"default",{open:e(o)})}}),ke=g({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(p){const u=p,t=h(),{forwardRef:n,currentElement:o}=$();return t.contentId||(t.contentId=j(void 0,"reka-dialog-content")),Y(()=>{t.triggerElement.value=o.value}),(v,y)=>(r(),m(e(E),b(u,{ref:e(n),type:v.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value||!1,"aria-controls":e(t).open.value?e(t).contentId:void 0,"data-state":e(t).open.value?"open":"closed",onClick:e(t).onOpenToggle}),{default:d(()=>[f(v.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),ee=g({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(p,{emit:u}){const t=p,n=u,o=h(),{forwardRef:v,currentElement:y}=$();return o.titleId||(o.titleId=j(void 0,"reka-dialog-title")),o.descriptionId||(o.descriptionId=j(void 0,"reka-dialog-description")),Y(()=>{o.contentElement=y,S()!==document.body&&(o.triggerElement.value=S())}),(c,a)=>(r(),m(e($e),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:a[5]||(a[5]=l=>n("openAutoFocus",l)),onUnmountAutoFocus:a[6]||(a[6]=l=>n("closeAutoFocus",l))},{default:d(()=>[B(e(ae),b({id:e(o).contentId,ref:e(v),as:c.as,"as-child":c.asChild,"disable-outside-pointer-events":c.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(o).descriptionId,"aria-labelledby":e(o).titleId,"data-state":e(Ce)(e(o).open.value)},c.$attrs,{onDismiss:a[0]||(a[0]=l=>e(o).onOpenChange(!1)),onEscapeKeyDown:a[1]||(a[1]=l=>n("escapeKeyDown",l)),onFocusOutside:a[2]||(a[2]=l=>n("focusOutside",l)),onInteractOutside:a[3]||(a[3]=l=>n("interactOutside",l)),onPointerDownOutside:a[4]||(a[4]=l=>n("pointerDownOutside",l))}),{default:d(()=>[f(c.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Pe=g({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(p,{emit:u}){const t=p,n=u,o=h(),v=R(n),{forwardRef:y,currentElement:c}=$();return he(c),(a,l)=>(r(),m(ee,b({...t,...e(v)},{ref:e(y),"trap-focus":e(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:l[0]||(l[0]=i=>{var s;i.defaultPrevented||(i.preventDefault(),(s=e(o).triggerElement.value)==null||s.focus())}),onPointerDownOutside:l[1]||(l[1]=i=>{const s=i.detail.originalEvent,C=s.button===0&&s.ctrlKey===!0;(s.button===2||C)&&i.preventDefault()}),onFocusOutside:l[2]||(l[2]=i=>{i.preventDefault()})}),{default:d(()=>[f(a.$slots,"default")]),_:3},16,["trap-focus"]))}}),Ae=g({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(p,{emit:u}){const t=p,o=R(u);$();const v=h(),y=F(!1),c=F(!1);return(a,l)=>(r(),m(ee,b({...t,...e(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:l[0]||(l[0]=i=>{var s;i.defaultPrevented||(y.value||(s=e(v).triggerElement.value)==null||s.focus(),i.preventDefault()),y.value=!1,c.value=!1}),onInteractOutside:l[1]||(l[1]=i=>{var D;i.defaultPrevented||(y.value=!0,i.detail.originalEvent.type==="pointerdown"&&(c.value=!0));const s=i.target;((D=e(v).triggerElement.value)==null?void 0:D.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&c.value&&i.preventDefault()})}),{default:d(()=>[f(a.$slots,"default")]),_:3},16))}}),Ee=g({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(p,{emit:u}){const t=p,n=u,o=h(),v=R(n),{forwardRef:y}=$();return(c,a)=>(r(),m(e(Z),{present:c.forceMount||e(o).open.value},{default:d(()=>[e(o).modal.value?(r(),m(Pe,b({key:0,ref:e(y)},{...t,...e(v),...c.$attrs}),{default:d(()=>[f(c.$slots,"default")]),_:3},16)):(r(),m(Ae,b({key:1,ref:e(y)},{...t,...e(v),...c.$attrs}),{default:d(()=>[f(c.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Fe=g({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(p){const u=h();return De(!0),$(),(t,n)=>(r(),m(e(E),{as:t.as,"as-child":t.asChild,"data-state":e(u).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:d(()=>[f(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Ie=g({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(p){const u=h(),{forwardRef:t}=$();return(n,o)=>{var v;return(v=e(u))!=null&&v.modal.value?(r(),m(e(Z),{key:0,present:n.forceMount||e(u).open.value},{default:d(()=>[B(Fe,b(n.$attrs,{ref:e(t),as:n.as,"as-child":n.asChild}),{default:d(()=>[f(n.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):_("",!0)}}}),Me=g({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(p){const u=p;$();const t=h();return(n,o)=>(r(),m(e(E),b(u,{type:n.as==="button"?"button":void 0,onClick:o[0]||(o[0]=v=>e(t).onOpenChange(!1))}),{default:d(()=>[f(n.$slots,"default")]),_:3},16,["type"]))}}),G=g({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(p){const u=p,t=h();return $(),(n,o)=>(r(),m(e(E),b(u,{id:e(t).titleId}),{default:d(()=>[f(n.$slots,"default")]),_:3},16,["id"]))}}),W=g({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(p){const u=p;$();const t=h();return(n,o)=>(r(),m(e(E),b(u,{id:e(t).descriptionId}),{default:d(()=>[f(n.$slots,"default")]),_:3},16,["id"]))}}),je=g({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(p){const u=p;return(t,n)=>(r(),m(e(ne),q(J(u)),{default:d(()=>[f(t.$slots,"default")]),_:3},16))}}),Re={slots:{overlay:"fixed inset-0 bg-(--ui-bg-elevated)/75",content:"fixed bg-(--ui-bg) divide-y divide-(--ui-border) flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-(--ui-text-highlighted) font-semibold",description:"mt-1 text-(--ui-text-muted) text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-[calc(var(--ui-radius)*2)] shadow-lg ring ring-(--ui-border)"}}}},Te=me;var X;const xe=H({extend:H(Re),...((X=Te.ui)==null?void 0:X.modal)||{}}),Ke=g({__name:"Modal",props:{title:{},description:{},content:{},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},fullscreen:{type:Boolean},portal:{type:Boolean,default:!0},close:{type:[Boolean,Object],default:!0},closeIcon:{},dismissible:{type:Boolean,default:!0},class:{},ui:{},open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean,default:!0}},emits:["after:leave","update:open"],setup(p,{emit:u}){const t=p,n=u,o=le(),{t:v}=ie(),y=re(),c=ue(de(t,"open","defaultOpen","modal"),n),a=pe(()=>t.content),l=z(()=>t.dismissible?{closeAutoFocus:s=>s.preventDefault()}:{pointerDownOutside:s=>s.preventDefault(),interactOutside:s=>s.preventDefault(),escapeKeyDown:s=>s.preventDefault(),closeAutoFocus:s=>s.preventDefault()}),i=z(()=>xe({transition:t.transition,fullscreen:t.fullscreen}));return(s,C)=>(r(),m(e(we),q(J(e(c))),{default:d(({open:D})=>[o.default?(r(),m(e(ke),{key:0,"as-child":"",class:O(t.class)},{default:d(()=>[f(s.$slots,"default",{open:D})]),_:2},1032,["class"])):_("",!0),B(e(je),{disabled:!s.portal},{default:d(()=>{var I,T;return[s.overlay?(r(),m(e(Ie),{key:0,class:O(i.value.overlay({class:(I=t.ui)==null?void 0:I.overlay}))},null,8,["class"])):_("",!0),B(e(Ee),b({class:i.value.content({class:[!o.default&&t.class,(T=t.ui)==null?void 0:T.content]})},a.value,{onAfterLeave:C[0]||(C[0]=M=>n("after:leave"))},ce(l.value)),{default:d(()=>[o.content&&(s.title||o.title||s.description||o.description)?(r(),m(e(fe),{key:0},{default:d(()=>[s.title||o.title?(r(),m(e(G),{key:0},{default:d(()=>[f(s.$slots,"title",{},()=>[P(A(s.title),1)])]),_:3})):_("",!0),s.description||o.description?(r(),m(e(W),{key:1},{default:d(()=>[f(s.$slots,"description",{},()=>[P(A(s.description),1)])]),_:3})):_("",!0)]),_:3})):_("",!0),f(s.$slots,"content",{},()=>{var M,x,K;return[o.header||s.title||o.title||s.description||o.description||s.close||o.close?(r(),k("div",{key:0,class:O(i.value.header({class:(M=t.ui)==null?void 0:M.header}))},[f(s.$slots,"header",{},()=>{var N,U,V;return[w("div",{class:O(i.value.wrapper({class:(N=t.ui)==null?void 0:N.wrapper}))},[s.title||o.title?(r(),m(e(G),{key:0,class:O(i.value.title({class:(U=t.ui)==null?void 0:U.title}))},{default:d(()=>[f(s.$slots,"title",{},()=>[P(A(s.title),1)])]),_:3},8,["class"])):_("",!0),s.description||o.description?(r(),m(e(W),{key:1,class:O(i.value.description({class:(V=t.ui)==null?void 0:V.description}))},{default:d(()=>[f(s.$slots,"description",{},()=>[P(A(s.description),1)])]),_:3},8,["class"])):_("",!0)],2),B(e(Me),{"as-child":""},{default:d(()=>[f(s.$slots,"close",{ui:i.value},()=>{var L;return[s.close?(r(),m(Q,b({key:0,icon:s.closeIcon||e(y).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":e(v)("modal.close")},typeof s.close=="object"?s.close:{},{class:i.value.close({class:(L=t.ui)==null?void 0:L.close})}),null,16,["icon","aria-label","class"])):_("",!0)]})]),_:3})]})],2)):_("",!0),o.body?(r(),k("div",{key:1,class:O(i.value.body({class:(x=t.ui)==null?void 0:x.body}))},[f(s.$slots,"body")],2)):_("",!0),o.footer?(r(),k("div",{key:2,class:O(i.value.footer({class:(K=t.ui)==null?void 0:K.footer}))},[f(s.$slots,"footer")],2)):_("",!0)]})]),_:3},16,["class"])]}),_:3},8,["disabled"])]),_:3},16))}}),Ne=Object.assign(Ke,{__name:"UModal"}),Ue={class:"space-y-2"},Ve=["onClick"],Le={class:"font-medium text-[var(--ui-text)]"},Se={key:0,class:"text-center py-8"},ze={class:"flex justify-end"},He=g({__name:"AssignToProjectModal",props:{chatId:{}},emits:["close"],setup(p,{emit:u}){const t=p,n=u,{projects:o}=ve(),{assignToProject:v}=Oe(t.chatId);async function y(c){try{await v(c),await be(`/projects/${c}/chats/${t.chatId}`)}catch(a){console.error("Failed to assign chat to project:",a)}}return(c,a)=>{const l=_e,i=Q,s=Ne;return r(),m(s,{open:"",title:"Assign to Project",description:"Choose a project to assign this chat to.","onUpdate:open":a[1]||(a[1]=C=>n("close"))},{body:d(()=>{var C;return[w("div",Ue,[(r(!0),k(ye,null,ge(e(o),D=>(r(),k("div",{key:D.id,class:"flex items-center space-x-3 p-3 border border-[var(--ui-border)] rounded-lg hover:bg-[var(--ui-bg-elevated)] cursor-pointer",onClick:I=>y(D.id)},[B(l,{name:"i-heroicons-folder",class:"text-[var(--ui-text-dimmed)]"}),w("span",Le,A(D.name),1)],8,Ve))),128)),(C=e(o))!=null&&C.length?_("",!0):(r(),k("div",Se,[B(l,{name:"i-heroicons-folder-plus",class:"mx-auto h-12 w-12 text-[var(--ui-text-dimmed)]"}),a[2]||(a[2]=w("h3",{class:"mt-2 text-sm font-medium text-[var(--ui-text)]"}," No projects ",-1)),a[3]||(a[3]=w("p",{class:"mt-1 text-sm text-[var(--ui-text-muted)]"}," Create a project first to assign chats to it. ",-1))]))])]}),footer:d(()=>[w("div",ze,[B(i,{color:"neutral",variant:"soft",onClick:a[0]||(a[0]=C=>n("close"))},{default:d(()=>a[4]||(a[4]=[P(" Cancel ")])),_:1,__:[4]})])]),_:1})}}}),Ze=Object.assign(He,{__name:"AssignToProjectModal"});export{Ze as default};
